apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-kapt'

android {
    compileSdkVersion 29

    defaultConfig {
        minSdkVersion 21
        targetSdkVersion 29
        versionCode 1
        versionName "1.0"

        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
        consumerProguardFiles "consumer-rules.pro"

        javaCompileOptions {
            annotationProcessorOptions {
                arguments = [AROUTER_MODULE_NAME: project.getName()]
            }
        }
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    configurations {
        ////这里要排除到这个包，这个包会与 com.google.guava 冲突，导致编译不过
        //com.google.guava:listenablefuture 与 com.google.guava 冲突 下面非全局排除未生效
        all*.exclude group: 'com.google.guava', module: 'listenablefuture'
    }
}

dependencies {
    //anko-common包编译配置
    api rootProject.ext.dependencies.ankoVersion

    api 'ru.alexbykov:nopermission:1.1.2'
    /*logging 在项目中添加拦截库LoggingInterceptor，拦截网络请求和响应*/
    api('com.github.ihsanbal:LoggingInterceptor:3.0.0') {
        exclude group: 'org.json', module: 'json'
    }

    api "androidx.core:core-ktx:1.3.1"

    api "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"

    api rootProject.ext.dependencies.supportV4
    api rootProject.ext.dependencies.appcompat
    api rootProject.ext.dependencies.material
    api rootProject.ext.dependencies.annotations
    api rootProject.ext.dependencies.constraint
    api rootProject.ext.dependencies.legacy
    api rootProject.ext.dependencies.androidx
    api rootProject.ext.dependencies.multidex
    api rootProject.ext.dependencies.rxpermissions
    api rootProject.ext.dependencies.particleView
    api rootProject.ext.dependencies.recyclerview
    api rootProject.ext.dependencies.cardview
    api rootProject.ext.dependencies.alertview
//    api rootProject.ext.dependencies.loggingInterceptor
    api rootProject.ext.dependencies.gson
    api rootProject.ext.dependencies.okhttp
    api rootProject.ext.dependencies.retrofit.core
    api rootProject.ext.dependencies.retrofit.converter_gson
    api rootProject.ext.dependencies.retrofit.adapter_rxjava2
    api rootProject.ext.dependencies.rxjava
    api rootProject.ext.dependencies.rxandroid
    api rootProject.ext.dependencies.agentweb.agentweb
    api rootProject.ext.dependencies.agentweb.filechooser
    api rootProject.ext.dependencies.agentweb.download
    api rootProject.ext.dependencies.butterknife
//    annotationProcessor rootProject.ext.dependencies.butterknifeCompiler
    kapt rootProject.ext.dependencies.butterknifeCompiler
    api rootProject.ext.dependencies.greendao
    api rootProject.ext.dependencies.eventbus
    api rootProject.ext.dependencies.bravh3X
    api rootProject.ext.dependencies.smartRefreshLayout
    api rootProject.ext.dependencies.smartRefreshHeader
    api rootProject.ext.dependencies.swipelayout
    api rootProject.ext.dependencies.glide
    annotationProcessor rootProject.ext.dependencies.glideCompiler
    api rootProject.ext.dependencies.glide_transformations
//    api rootProject.ext.dependencies.nopermission
    api rootProject.ext.dependencies.roundedimageview
    api rootProject.ext.dependencies.circleimageview
    api rootProject.ext.dependencies.photoView
    api rootProject.ext.dependencies.percentImageView
    api rootProject.ext.dependencies.floatingactionbutton
    api rootProject.ext.dependencies.flowlayout
    api rootProject.ext.dependencies.spinKit
    api rootProject.ext.dependencies.navigationtabstrip
    api rootProject.ext.dependencies.pictureSelector
    api rootProject.ext.dependencies.persistentCookieJar
    api rootProject.ext.dependencies.arouterApi
    kapt rootProject.ext.dependencies.arouterCompiler

    api rootProject.ext.dependencies.flycoTabLayoutLib

    api rootProject.ext.dependencies.convenientBanner

    api rootProject.ext.dependencies.YouthBanner

    api rootProject.ext.dependencies.viewpager2
    api rootProject.ext.dependencies.BannerViewPager
    api rootProject.ext.dependencies.permissionx
    api rootProject.ext.dependencies.gsyVideoPlayer

    api rootProject.ext.dependencies.broccoli

    api rootProject.ext.dependencies.fabMenu

    api rootProject.ext.dependencies.bluetooth

    //lottie
    api rootProject.ext.dependencies.lottie

    //parallaximageview
//    api rootProject.ext.dependencies.parallaximageview

    //Android Jetpack 组件
    api 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1'
    api 'androidx.lifecycle:lifecycle-livedata-ktx:2.2.0'
    api 'androidx.lifecycle:lifecycle-extensions:2.2.0'
    api 'androidx.work:work-runtime:2.4.0'

    //Navigation
//    api 'android.arch.navigation:navigation-fragment:1.0.0'
//    api 'android.arch.navigation:navigation-ui:1.0.0'

    api "androidx.navigation:navigation-fragment-ktx:2.3.0"
    api "androidx.navigation:navigation-ui-ktx:2.3.0"

    //Paging3
    api "androidx.paging:paging-runtime:3.0.0"

    //XUpdate
    implementation rootProject.ext.dependencies.XUpdate
//    implementation project(path: ':xupdate-lib')
    implementation 'com.zhy:okhttputils:2.6.2'

}