apply plugin: 'com.android.application'
apply plugin: 'org.greenrobot.greendao'

android {
    compileSdkVersion 28
    defaultConfig {
        applicationId "liang.com.baseproject"
        minSdkVersion 19
        //noinspection OldTargetApi
        targetSdkVersion 28
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            lintOptions {
                checkReleaseBuilds false
                abortOnError false
            }
        }
        applicationVariants.all { variant ->
            variant.outputs.all { output ->
                def fileName
                def date = new Date()
                def formattedDate = date.format('yyyyMMdd')
                if (variant.buildType.name.equals('release')) {
                    fileName = "AI_${variant.mergedFlavor.versionName}_release_${formattedDate}.apk"
                } else if (variant.buildType.name.equals('debug')) {
                    fileName = "AI_${variant.mergedFlavor.versionName}_debug_${formattedDate}.apk"
                }
                outputFileName = fileName
            }
        }
    }
    compileOptions {
        targetCompatibility 1.8
        sourceCompatibility 1.8
    }
    configurations.all {
        resolutionStrategy.eachDependency { DependencyResolveDetails details ->
            def requested = details.requested
            if (requested.group == "com.android.support") {
                if (!requested.name.startsWith("multidex")) {
                    details.useVersion "28.+"
                }
            }
        }
    }

    greendao {
        schemaVersion 1//<--数据库的版本，用于升级时候进行更改
        daoPackage 'liang.com.baseproject.gen'
        //这个是生成DAOs、DaoMaster、DaoSession代码保存的包名,默认为entities所在包名
        targetGenDir 'src/main/java'
        //生成DAOs、DaoMaster、DaoSession的目录。默认为build/generated/source/greendao
    }
}

dependencies {
    implementation fileTree(include: ['*.jar'], dir: 'libs')
    implementation 'com.android.support:design:28.0.0'
    implementation 'com.android.support:appcompat-v7:28.0.0'
    implementation 'com.android.support.constraint:constraint-layout:1.1.3'
    implementation 'com.android.support:support-v4:28.0.0'
    testImplementation 'junit:junit:4.12'
    androidTestImplementation 'com.android.support.test:runner:1.0.2'
    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'

    //栗子动画引入step2：ParticleView
    implementation 'me.wangyuwei:ParticleView:1.0.4'

    //ButterKnife
    implementation 'com.jakewharton:butterknife:8.8.1'
    annotationProcessor 'com.jakewharton:butterknife-compiler:8.8.1'
    implementation 'com.android.support:recyclerview-v7:28.0.0'
    implementation 'com.android.support:cardview-v7:28.0.0'
    implementation 'com.github.bumptech.glide:glide:4.5.0'

    //glide样式（圆角、圆、毛玻璃）
    implementation 'jp.wasabeef:glide-transformations:3.0.1'
    implementation 'ru.alexbykov:nopermission:1.1.2'
    implementation 'de.hdodenhof:circleimageview:3.0.0'
    implementation 'com.squareup.okhttp3:okhttp:3.12.1'
    implementation 'com.squareup.retrofit2:retrofit:2.4.0'
    implementation 'com.squareup.retrofit2:converter-gson:2.4.0'
    implementation 'io.reactivex.rxjava2:rxandroid:2.1.0'
    implementation 'io.reactivex.rxjava2:rxjava:2.2.2'
    implementation 'com.squareup.retrofit2:adapter-rxjava2:2.4.0'

    /*事件总线*/
    implementation 'org.greenrobot:eventbus:3.1.1'
    implementation 'com.github.chrisbanes.photoview:library:1.2.3'

    /*logging 在项目中添加拦截库LoggingInterceptor，拦截网络请求和响应*/
    implementation('com.github.ihsanbal:LoggingInterceptor:3.0.0') {
        exclude group: 'org.json', module: 'json'
    }
    implementation 'com.github.tbruyelle:rxpermissions:0.10.2'

    /*SmartRefreshLayout 下拉加载刷新*/
    implementation 'com.scwang.smartrefresh:SmartRefreshLayout:1.1.0'

    //1.0.5及以前版本的老用户升级需谨慎，API改动过大
    implementation 'com.scwang.smartrefresh:SmartRefreshHeader:1.1.0'

    //没有使用特殊Header，可以不加这行
    /*BaseRecyclerViewAdapterHelper*/
    implementation 'com.github.CymChad:BaseRecyclerViewAdapterHelper:2.9.47'

    /*NavigationTabStrip 带动画的顶部导航*/
    implementation 'com.github.devlight.navigationtabstrip:navigationtabstrip:1.0.4'

    /*loading loading加载动画*/
    implementation 'com.github.ybq:Android-SpinKit:1.4.0'

    /*flowlayout 流式标签*/
    implementation 'com.hyman:flowlayout-lib:1.1.2'

    /*floatingactionbutton MD悬浮按钮菜单版*/
    implementation 'com.getbase:floatingactionbutton:1.10.1'

    /*自由指定宽高比的ImageView*/
    implementation 'com.github.goweii:PercentImageView:1.0.2'

    //仿IOS的Android的弹出框
    implementation 'com.bigkoo:alertview:1.0.3'

    /*greendao*/
    implementation 'org.greenrobot:greendao:3.2.2'

    /*Android PersistentCookieJar  持久化Cookie*/
    implementation 'com.github.franmontiel:PersistentCookieJar:v1.0.1'

    /*圆角图片*/
    implementation 'com.makeramen:roundedimageview:2.3.0'

    /*基于的 Android WebViewInterface(必选)*/
    implementation 'com.just.agentweb:agentweb:4.1.2'

    // (可选)
    implementation 'com.just.agentweb:filechooser:4.1.2'

    // (可选)
    implementation 'com.download.library:Downloader:4.1.2'

    //侧滑菜单
    implementation 'com.daimajia.swipelayout:library:1.2.0'

    //图片选择器
    implementation 'com.github.goweii:PictureSelector:v2.3.1'
//    implementation 'com.github.LuckSiege.PictureSelector:picture_library:v2.2.4'
}
